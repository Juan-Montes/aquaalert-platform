# ──────────────────────────────────────────────────────
# ChirpStack v4 — Configuración para AquaAlert
# ──────────────────────────────────────────────────────

[logging]
level = "info"

[postgresql]
dsn = "postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres/${POSTGRES_DB}?sslmode=disable"
max_open_connections = 10
min_idle_connections  = 0

[redis]
servers    = ["redis://redis:6379"]
cluster    = false
key_prefix = "chirpstack:"

[network]
net_id          = "000000"
enabled_regions = ["us915_0"]

[api]
bind   = "0.0.0.0:8080"
secret = "you-must-replace-this-secret-key"

[gateway]
ca_cert  = ""
tls_cert = ""
tls_key  = ""

[integration]
enabled = ["mqtt"]

[integration.mqtt]
event_topic_template   = "application/{{ .ApplicationID }}/device/{{ .DevEUI }}/event/{{ .EventType }}"
state_topic_template   = "application/{{ .ApplicationID }}/device/{{ .DevEUI }}/state/{{ .StateType }}"
command_topic_template = "application/{{ .ApplicationID }}/device/{{ .DevEUI }}/command/{{ .CommandType }}"
server        = "tcp://mosquitto:1883"
username      = ""
password      = ""
qos           = 0
clean_session = true
client_id     = "chirpstack"
